<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê°€ìƒ í™˜ê²½ë„ì‹œ ì‹œë®¬ë ˆì´í„°</title>
  <style>
    :root {
      --main-blue: #007bff;
      --light-gray: #f7f7f7;
      --border-color: #ddd;
    }

    body {
      margin: 0;
      font-family: 'Noto Sans KR', 'Arial', sans-serif;
      background-color: #fff;
      color: #222;
      text-align: center;
      padding: 40px 20px;
      line-height: 1.6;
    }

    h1 {
      font-size: 1.8rem;
      color: #222;
      font-weight: 700;
      margin-bottom: 40px;
      letter-spacing: -0.5px;
    }

    .slider-container {
      max-width: 420px;
      margin: 0 auto 40px auto;
      padding: 25px 20px;
      border: 1px solid var(--border-color);
      border-radius: 10px;
      background-color: var(--light-gray);
    }

    .slider-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 18px;
    }

    label {
      flex: 1;
      color: #222;
      font-weight: 600;
      font-size: 15px;
      text-align: left;
    }

    input[type=range] {
      flex: 2;
      accent-color: var(--main-blue);
      margin: 0 10px;
    }

    .value {
      width: 50px;
      text-align: right;
      font-weight: bold;
      color: var(--main-blue);
      font-size: 15px;
    }

    button {
      padding: 12px 25px;
      background-color: var(--main-blue);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background-color 0.2s ease;
      margin-top: 15px;
      margin-bottom: 35px;
    }

    button:hover {
      background-color: #00408e;
    }

    .result-box {
      max-width: 500px;
      margin: 0 auto 40px auto;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid var(--border-color);
      background-color: #fafafa;
      text-align: left;
      line-height: 1.7;
    }

    .result-box strong {
      color: #000;
    }

    .graph-container {
      display: flex;
      justify-content: space-around;
      max-width: 550px;
      margin: 0 auto;
      align-items: flex-end;
      height: 230px;
      border-top: 1px solid var(--border-color);
      padding-top: 25px;
    }

    .bar-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }

    .bar {
      width: 70px;
      background-color: var(--main-blue);
      border-radius: 4px 4px 0 0;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      position: relative;
      transition: height 0.5s;
      height: 0;
    }

    .bar span {
      position: absolute;
      top: -22px;
      font-size: 13px;
      color: #333;
      font-weight: 600;
    }

    .label {
      margin-top: 10px;
      font-weight: 600;
      font-size: 14px;
      color: #444;
    }

    /* ë“±ê¸‰ë³„ ë°°ê²½ìƒ‰ */
    .grade-A { background-color: #e8f9e8; }
    .grade-B { background-color: #eaf3ff; }
    .grade-C { background-color: #fff4e0; }
    .grade-D { background-color: #fde9e9; }
  </style>
</head>
<body>
  <h1>ê°€ìƒ í™˜ê²½ë„ì‹œ ì‹œë®¬ë ˆì´í„°</h1>

  <div class="slider-container">
    <div class="slider-row">
      <label>í’ë ¥ ë°œì „</label>
      <input type="range" id="wind" min="0" max="100" value="25" oninput="updateValue('wind')">
      <span class="value" id="windVal">25%</span>
    </div>

    <div class="slider-row">
      <label>ìˆ˜ë ¥ ë°œì „</label>
      <input type="range" id="hydro" min="0" max="100" value="25" oninput="updateValue('hydro')">
      <span class="value" id="hydroVal">25%</span>
    </div>

    <div class="slider-row">
      <label>íƒœì–‘ê´‘ ë°œì „</label>
      <input type="range" id="solar" min="0" max="100" value="25" oninput="updateValue('solar')">
      <span class="value" id="solarVal">25%</span>
    </div>

    <div class="slider-row">
      <label>ë°”ì´ì˜¤ ì—ë„ˆì§€</label>
      <input type="range" id="bio" min="0" max="100" value="25" oninput="updateValue('bio')">
      <span class="value" id="bioVal">25%</span>
    </div>
  </div>

  <button onclick="calculate()">ê²°ê³¼ ê³„ì‚°í•˜ê¸°</button>

  <div class="result-box" id="result">
    ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
  </div>

  <div class="graph-container">
    <div class="bar-group">
      <div class="bar" id="co2Bar"><span>0%</span></div>
      <div class="label">COâ‚‚ ê°ì†ŒëŸ‰</div>
    </div>
    <div class="bar-group">
      <div class="bar" id="airBar"><span>0 Âµg/mÂ³</span></div>
      <div class="label">ë¯¸ì„¸ë¨¼ì§€ ê°œì„ </div>
    </div>
    <div class="bar-group">
      <div class="bar" id="energyBar"><span>0%</span></div>
      <div class="label">ì—ë„ˆì§€ ìë¦½ë¥ </div>
    </div>
  </div>

  <script>
  function updateValue(id) {
    const val = document.getElementById(id).value;
    document.getElementById(id + "Val").textContent = val + "%";
  }

  function calculate() {
    const wind = Number(document.getElementById('wind').value);
    const hydro = Number(document.getElementById('hydro').value);
    const solar = Number(document.getElementById('solar').value);
    const bio = Number(document.getElementById('bio').value);

    const renewable = (wind + hydro + solar + bio) / 4;

    const values = [wind, hydro, solar, bio];
    const maxVal = Math.max(...values);
    let bias = 0;
    if (renewable > 0) {
      bias = (maxVal / renewable) * 100 - 100;
    }

    const co2Reduction = renewable * 0.9;
    const airImprovement = renewable * 0.18;
    const energySelf = renewable;

    let cityScore = (co2Reduction + energySelf + airImprovement)/2.1;

    if (bias > 90) cityScore -= 2;
    else if (bias > 75) cityScore -= 1.5;
    else if (bias > 50) cityScore -= 1;
    else if (bias > 25) cityScore -= 0.5;

    let gradeClass='', gradeText='', icon='';
    if (cityScore >= 80) { gradeClass='grade-A'; gradeText='A'; icon='ğŸŒ¿'; }
    else if (cityScore >= 60) { gradeClass='grade-B'; gradeText='B'; icon='ğŸ™ï¸'; }
    else if (cityScore >= 40) { gradeClass='grade-C'; gradeText='C'; icon='ğŸŒ‡'; }
    else { gradeClass='grade-D'; gradeText='D'; icon='âš ï¸'; }

    const resultBox = document.getElementById('result');
    resultBox.className = `result-box ${gradeClass}`;
    resultBox.innerHTML = `
      <strong>ì „ì²´ ì¬ìƒì—ë„ˆì§€ ë¹„ì¤‘:</strong> ${renewable.toFixed(1)}%<br>
      <strong>í¸í–¥ ì •ë„:</strong> ${bias.toFixed(1)}%<br>
      <strong>COâ‚‚ ê°ì†ŒëŸ‰:</strong> ${co2Reduction.toFixed(1)}%<br>
      <strong>ë¯¸ì„¸ë¨¼ì§€ ê°œì„ :</strong> +${airImprovement.toFixed(1)} Âµg/mÂ³<br>
      <strong>ì—ë„ˆì§€ ìë¦½ë¥ :</strong> ${energySelf.toFixed(1)}%<br><br>
      <strong>ğŸ™ï¸ ë„ì‹œ ì ìˆ˜:</strong> ${cityScore.toFixed(1)}ì <br>
      <strong>${icon} ë“±ê¸‰:</strong> ${gradeText}
    `;

    document.getElementById('co2Bar').style.height = `${co2Reduction/100*200}px`;
    document.getElementById('co2Bar').querySelector('span').textContent = `${co2Reduction.toFixed(1)}%`;

    document.getElementById('airBar').style.height = `${airImprovement/18*200}px`;
    document.getElementById('airBar').querySelector('span').textContent = `${airImprovement.toFixed(1)}Âµg/mÂ³`;

    document.getElementById('energyBar').style.height = `${energySelf/100*200}px`;
    document.getElementById('energyBar').querySelector('span').textContent = `${energySelf.toFixed(1)}%`;
  }
  </script>
</body>
</html>
